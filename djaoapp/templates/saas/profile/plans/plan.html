{% extends "saas/base_dashboard-2col.html" %}

{% block saas_title %}
Update Plan
{% endblock %}

{% block saas_page_layout %}
<div id="plan-container">
    <div class="col-12">
        <div class="row">
            <div class="col-lg-6">
                {% block saas_content %}
                <div data-trip data-trip data-trip-index="1" data-trip-content="<h2>Plan</h2><p>Set the title, description and price of a plan.</p><em>Use keyboard navigation or click 'Next' to move forward.</em>" data-trip-position="screen-center">
                    {% include "saas/profile/plans/_form.html" %}
                </div>
                {% endblock %}
                {% if show_delete %}
                <div class="card border-danger mt-3">
                  <div class="card-header">
                    Danger Zone
                  </div>
                  <div class="card-body text-danger">
                    <button id="delete-plan-confirm" class="btn btn-danger" data-toggle="modal" data-target="#delete-plan-modal">Delete</button> This operation cannot be reversed.
                  </div>
                  <div id="delete-plan-modal"
                     class="modal fade" tabindex="-1" role="dialog"
                     aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                Delete Plan ...
                            </div>
                            <div class="modal-body">
                                Please confirm you want to delete this plan.
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary"
                                        data-dismiss="modal">Cancel</button>
                                <a id="delete-plan"
                                   class="btn btn-danger btn-ok delete"
                                   data-dismiss="modal"
                                   @click="deletePlan">Delete</a>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
                {% endif %}
            </div>
            <div class="col-lg-6">
                <div style="margin-bottom: 20px;">
                    <a href="{{urls.plan_subscribers}}">Plan Subscribers</a>
                </div>
                <p>
                  <button id="activate-plan"
                    class="activate btn btn-primary"
                    data-trip-index="2"
                    data-trip-position="s"
                    data-trip-content="<p>Toggle this plan between available for subscription or not.</p>"
                    @click="togglePlanStatus"
                    v-bind:class="{activated: isActive}"
                    v-text="isActive ? 'Deactivate' : 'Activate'"></button>
                    Users can only subscribe to active plans.
                </p>
                <p class="lead">
                    {% block saas_lead_help %}{% endblock %}
                </p>
                {% block saas_help %}{% endblock %}
            </div>
        </div>
    </div>
</div>

{% endblock %}
