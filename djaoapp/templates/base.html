<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="DjaoDjin inc.">
    <meta name="copyright" content="Copyright (c) 2018 DjaoDjin inc.">
    <title>{% block title %}{% if site %}{{request.site.printable_name}}{% else %}Bootstrap a Subscription Business Today{% endif %} | DjaoDjin{% endblock %}</title>
    <meta property="og:image" content="https://djaodjin.com/static/img/og-image.png" />
    <meta property="og:site_name" content="DjaoDjin" />
    <meta property="og:type" content="website" />
    <meta name="twitter:account_id" content="1551213320" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:creator" content="@djaodjin" />
    <meta name="twitter:domain" content="https://djaodjin.com" />
    <meta name="twitter:image" content="https://djaodjin.com/static/img/og-image.png" />
    <meta name="twitter:site" content="@djaodjin" />
    {% assets "css_base" %}
    <link rel="stylesheet" media="screen" href="{{ ASSET_URL }}" />
    {% endassets %}
    <link href="//fonts.googleapis.com/css?family=Sonsie+One" rel="stylesheet" type="text/css">
    {% if csrf_token %}
    <meta name="csrf-token" content="{{csrf_token}}">
    {% endif %}
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    {% block localheader %}{% endblock %}
    {% if 'djaodjin.com' in request|host %}
    <!-- Google Analytics -->
    <script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-41399084-1', 'auto');
  ga('send', 'pageview');
    </script>
    {% endif %}
</head>
<body>
  <div id="wrap">
    <div id="main">
      <div class="dashboard-container">
        <div class="dashboard-inner-container">
          {% block dashboard_nav %}
          <!-- <div class="dashboard-nav"></div> -->
          {% endblock %}
          <div class="dashboard-content">
            <header>
              <nav class="navbar navbar-default{% block navbar_extra_classes %}{% endblock %}">
                {% block content_navbarbrand %}
                {% include "_navbarbrand.html" %}
                {% endblock %}
                {% block header_navbar_large %}
                <ul class="nav navbar-nav" style="float:right;margin-right:15px;">
                    {% include "generic_navbar.html" %}
                    <li class="header-menubar">
                        {# links to user profile and #}
                        {# organizations is added here. #}
                        <a id="login" href="{{request|url_login}}"><i class="fa fa-lock fa-lg"></i> Sign In</a>
                    </li>
                    {% if request|is_authenticated %}
                    <li><a title="Click Here to sign out" href="{{request|url_logout}}">Sign Out <span class="fa fa-sign-out fa-lg"></span></a></li>
                    {% endif %}
                </ul>
                {% endblock %}
                {% block header_navbar_small %}
                <div class="hidden-sm hidden-md hidden-lg">
                    <div class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right">
                            {% include "generic_navbar.html" %}
                        </ul>
                    </div>
                </div>
                {% endblock %}
              </nav>
              {% block fullviewport %}
              {% endblock %}
            </header>
            <div>
                <div id="messages">
                    <div id="messages-content">
                        {% for message in request|messages %}
                        <div class="alert{% if message.tags %} alert-{{message.tags}}{% endif %}">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <div>{{message|safe}}</div>
                        </div>
                        {% endfor %}
                        {% if form %}
                        {% for message in form|messages %}
                        <div class="alert alert-danger">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <div>{{message}}</div>
                        </div>
                        {% endfor %}
                        {% endif %}
                    </div>
                </div>
                {% block content %}
                {% endblock %}
            </div>
          </div><!-- /.dashboard-content -->
        </div><!-- /.dashboard-inner-container -->
      </div><!-- /.dashboard-container -->
    </div><!-- /#main -->
  </div><!-- /.wrap -->
  {% block footer %}
  <footer class="footer">
      <div class="copyr">Powered by &copy; 2018 DjaoDjin. All rights reserved. - <a href="/legal/" target="_blank">Legal</a>
          &nbsp;&nbsp;
          <a href="https://github.com/djaodjin/" target="_blank"><i class="fa fa-github fa-sm"></i></a>
          <a href="https://twitter.com/djaodjin"  target="_blank"><i class="fa fa-twitter fa-sm"></i></a>
          <a href="https://plus.google.com/+Djaodjin" target="_blank" rel="publisher"><i class="fa fa-google-plus fa-sm"></i></a>
      </div>
  </footer>
  {% endblock footer %}
  {% block _bodyscripts %}
    <script type="text/javascript">
    var djaodjinSettings = {
    urls: {
        api_balance_lines: "{{urls.api_balance_lines}}",
        api_broker_balances: "{{urls.api_broker_balances}}",
        api_transactions: "{{saas_api_transactions}}",
    {% if urls.organization %}
    {% if urls.organization.api_card %}
        saas_api_user_card: "{{ urls.organization.api_card }}",
    {% endif %}
    {% if urls.organization.api_roles %}
        saas_api_user_roles_url: "{{ urls.organization.api_roles }}",
    {% endif %}
    {% if urls.organization.api_role_descriptions %}
        saas_api_role_descriptions_url: "{{ urls.organization.api_role_descriptions }}",
    {% endif %}
    {% if urls.organization.api_cancel_balance_due %}
        api_cancel_balance_due: "{{ urls.organization.api_cancel_balance_due }}",
    {% endif %}
        /* subscriptions */
        api_organizations: "{{ urls.organization.api_profile_base }}",
        saas_api_subscriptions: "{{ urls.organization.api_subscriptions }}",
    {% endif %}
    {% if urls.provider %}
        saas_api_coupon_url: "{{ urls.provider.api_coupons }}",
        saas_metrics_coupons_url: "{{ urls.provider.coupons }}",
        saas_api_plans: "{{ urls.provider.api_plans }}",
        /* subscribers */
        saas_api_plan_subscribers: "{{ urls.provider.api_plan_subscribers }}",
        saas_api_churned: "{{ urls.provider.api_subscribers_churned }}",
        saas_api_active_subscribers: "{{ urls.provider.api_subscribers_active }}",
        /* transactions */
        api_receivables: "{{urls.provider.api_receivables}}",
        saas_api_bank: "{{ urls.provider.api_bank }}",
        {% if urls.provider.api_metrics_coupon_uses %}
            api_metrics_coupon_uses: "{{urls.provider.api_metrics_coupon_uses}}",
        {% endif %}
    {% endif %}
        /* users */
    {% if urls.broker %}
        api_registered: "{{ urls.broker.api_users_registered }}",
        api_users: "{{ urls.broker.api_users }}",
    {% endif %}
        /* accounts */
    {% if urls.accounts_base and urls.provider and urls.provider.api_accounts %}
        accounts_base: "{{ urls.accounts_base }}",
        api_accounts: "{{ urls.provider.api_accounts }}",
    {% endif %}
    {% if urls.user %}
        api_accessibles: "{{urls.user.api_accessibles}}",
        api_generate_keys: "{{urls.user.api_generate_keys}}",
        api_user_profile: "{{urls.user.api_profile}}",
        user_profile_redirect: "{{urls.user.profile_redirect}}",
    {% endif %}
    {% if urls.rules %}
        rules_api_rule_url: "{{urls.rules.api_rules}}",
        rules_api_detail_url: "{{urls.rules.api_detail}}",
        rules_api_generate_key: "{{urls.rules.api_generate_key}}",
        rules_api_session_data: "{{urls.rules.api_session_data}}",
    {% endif %}
        api_activities: "{{urls.api_activities}}",
        api_contact: "{{urls.api_contact}}",
        api_contacts: "{{urls.api_contacts}}",
        api_candidates: "{{'/api/profile/'|site_prefixed}}",
        contacts: "{{urls.contacts}}",
    {% if request|is_authenticated %}
        saas_api_organization: "{% if urls and urls.organization %}{{ urls.organization.api_base }}{% endif %}",
        user_profile_redirect: "{% if urls and urls.user %}{{urls.user.profile_redirect}}{% endif %}",
    {% endif %}
    },
    itemsPerPage: {% if items_per_page %}{{items_per_page}}{% else %}2{% endif %},
    tables: {% if tables %}{{tables|safe}}{% else %}{}{% endif %}, // XXX
    {% if sort_by_field %}sortByField: "{{sort_by_field}}",{% endif %}
    {% if sort_direction %}sortDirection: "{{sort_direction}}",{% endif %}
    date_range: {
        start_at: "{% if start_at %}{{start_at|isoformat}}{% endif %}",
        ends_at: "{% if ends_at %}{{ends_at|isoformat}}{% endif %}"
    },
    csrf: '{{csrf_token}}',
    };
    </script>
  {% assets "js_base" %}
  <script type="text/javascript" src="{{ ASSET_URL }}"></script>
  {% endassets %}
  <script type="text/javascript">
jQuery(document).ready(function($) {
    toastr.options = {
        "closeButton": true,
        "debug": false,
        "newestOnTop": false,
        "progressBar": false,
        "positionClass": "toast-top-full-width",
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": 200,
        "hideDuration": 200,
        "timeOut": "0",
        "extendedTimeOut": "0",
        "showEasing": "linear",
        "hideEasing": "linear",
        "showMethod": "slideDown",
        "hideMethod": "slideUp",
        containerId: "messages-content",
        toastClass: "alert",
        iconClasses: {
            error: "alert-danger",
            info: "alert-info",
            success: "alert-success",
            warning: "alert-warning"
        },
    };
});
  </script>
  {% block bodyscripts %}{% endblock %}
  {% endblock %}
</body>
</html>
